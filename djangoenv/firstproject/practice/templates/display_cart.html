<!-- cart_display.html -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cart Display</title>
</head>
<body>

    <h1>Your Cart</h1>

    {% if cart_data %}
        <table border="1">
            <thead>
                <tr>   
                    <th>Item Name</th>
                    <th>Quantity</th>
                    <th>Total Price</th>
                    <th>id</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                {% for item_data in cart_data %}
    <tr>
        <td>{{ item_data.name }}</td>
        <td>
            <form method="post" action="{% url 'increase_cart_item_quantity' cart_item_id=item_data.id %}">
                {% csrf_token %}
                <button type="submit">+</button>
            </form>
            <span>{{ item_data.quantity }}</span>
            <form method="post" action="{% url 'decrease_cart_item_quantity' cart_item_id=item_data.id %}">
                {% csrf_token %}
                <button type="submit">-</button>
            </form>
        </td>
        <td>{{ item_data.total_price }}</td>
        <td>{{ item_data.id }}</td>
        <td><form method="post" action="{% url 'remove_cart_item' cart_item_id=item_data.id %}">
            {% csrf_token %}
            <button type="submit">Remove</button></td>
    </tr>
{% endfor %}

            </tbody>
        </table>

        <p>Total Price: {{ total_price }}</p>
        <h5><a href="{% url 'checkout' cart_id=cart.id %}">checkout</a></h5>
    {% else %}
        <p>Your cart is empty.</p>
    {% endif %}
    <h5><a href="{% url 'menu' student_id=student_id %}">Menu</a></h5>

</body>
</html>
